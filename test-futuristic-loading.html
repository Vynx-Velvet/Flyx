<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Futuristic Loading Test</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            overflow: hidden;
        }
        
        .test-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        .controls {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 300;
            display: flex;
            gap: 10px;
        }
        
        .controls button {
            background: rgba(59, 130, 246, 0.8);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .controls input {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 8px;
            border-radius: 5px;
            width: 100px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="controls">
            <input type="range" id="progressSlider" min="0" max="100" value="45">
            <span id="progressValue" style="color: white;">45%</span>
            <select id="phaseSelect" style="background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 8px; border-radius: 5px;">
                <option value="Initializing">Initializing</option>
                <option value="Loading Stream">Loading Stream</option>
                <option value="Processing">Processing</option>
                <option value="Buffering">Buffering</option>
                <option value="Almost Ready">Almost Ready</option>
            </select>
        </div>
        
        <div id="loadingSpinner"></div>
    </div>

    <script>
        // Simulate the React component with vanilla JS
        function createLoadingSpinner(progress, phase) {
            const circumference = 2 * Math.PI * 90;
            const strokeDashoffset = circumference - (progress / 100) * circumference;
            
            // Generate particles
            let particlesHTML = '';
            for (let i = 0; i < 12; i++) {
                const delay = i * 0.2;
                const size = Math.random() * 4 + 2;
                const opacity = Math.random() * 0.6 + 0.4;
                particlesHTML += `<div class="particle" style="--delay: ${delay}s; --size: ${size}px; --opacity: ${opacity};"></div>`;
            }
            
            // Generate loading bars
            let barsHTML = '';
            for (let i = 0; i < 5; i++) {
                barsHTML += `<div class="loadingBar" style="--delay: ${i * 0.1}s;"></div>`;
            }
            
            return `
                <div class="futuristicLoadingContainer">
                    <div class="loadingBackdrop"></div>
                    <div class="particleField">${particlesHTML}</div>
                    <div class="loadingContent">
                        <div class="outerGlow"></div>
                        <div class="progressContainer">
                            <svg class="progressSvg" viewBox="0 0 200 200">
                                <defs>
                                    <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" stop-color="#3b82f6" stop-opacity="1" />
                                        <stop offset="50%" stop-color="#8b5cf6" stop-opacity="1" />
                                        <stop offset="100%" stop-color="#10b981" stop-opacity="1" />
                                    </linearGradient>
                                    <filter id="glow">
                                        <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                                        <feMerge> 
                                            <feMergeNode in="coloredBlur"/>
                                            <feMergeNode in="SourceGraphic"/>
                                        </feMerge>
                                    </filter>
                                </defs>
                                <circle class="progressBackground" cx="100" cy="100" r="90" fill="none" stroke-width="3" />
                                <circle class="progressCircle" cx="100" cy="100" r="90" fill="none" stroke-width="4" 
                                        stroke-dasharray="${circumference}" stroke-dashoffset="${strokeDashoffset}" 
                                        transform="rotate(-90 100 100)" filter="url(#glow)" />
                            </svg>
                            <div class="progressInner">
                                <div class="progressDisplay">
                                    <div class="progressNumber">${Math.round(progress)}</div>
                                    <div class="progressPercent">%</div>
                                </div>
                                <div class="phaseIndicator">
                                    <div class="phaseText">${phase}</div>
                                    <div class="phaseDots">
                                        <span></span>
                                        <span></span>
                                        <span></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="loadingBars">${barsHTML}</div>
                    </div>
                </div>
            `;
        }
        
        // Add the CSS styles
        const style = document.createElement('style');
        style.textContent = `
            /* Copy the CSS from the module file here for testing */
            .futuristicLoadingContainer {
                position: absolute;
                inset: 0;
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 200;
                overflow: hidden;
            }
            
            .loadingBackdrop {
                position: absolute;
                inset: 0;
                background: 
                    radial-gradient(circle at 30% 20%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
                    radial-gradient(circle at 70% 80%, rgba(147, 51, 234, 0.15) 0%, transparent 50%),
                    radial-gradient(circle at 50% 50%, rgba(16, 185, 129, 0.1) 0%, transparent 70%),
                    linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0.98) 100%);
                animation: backdropShift 8s ease-in-out infinite;
            }
            
            @keyframes backdropShift {
                0%, 100% { 
                    background: 
                        radial-gradient(circle at 30% 20%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
                        radial-gradient(circle at 70% 80%, rgba(147, 51, 234, 0.15) 0%, transparent 50%),
                        radial-gradient(circle at 50% 50%, rgba(16, 185, 129, 0.1) 0%, transparent 70%),
                        linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0.98) 100%);
                }
                50% { 
                    background: 
                        radial-gradient(circle at 70% 30%, rgba(59, 130, 246, 0.2) 0%, transparent 50%),
                        radial-gradient(circle at 20% 70%, rgba(147, 51, 234, 0.2) 0%, transparent 50%),
                        radial-gradient(circle at 80% 20%, rgba(16, 185, 129, 0.15) 0%, transparent 70%),
                        linear-gradient(135deg, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0.98) 100%);
                }
            }
            
            .particleField {
                position: absolute;
                inset: 0;
                pointer-events: none;
            }
            
            .particle {
                position: absolute;
                width: var(--size);
                height: var(--size);
                background: radial-gradient(circle, rgba(59, 130, 246, var(--opacity)) 0%, transparent 70%);
                border-radius: 50%;
                animation: floatParticle 6s ease-in-out infinite;
                animation-delay: var(--delay);
                left: 50%;
                top: 100%;
            }
            
            .particle:nth-child(odd) {
                background: radial-gradient(circle, rgba(147, 51, 234, var(--opacity)) 0%, transparent 70%);
                animation-duration: 8s;
            }
            
            .particle:nth-child(3n) {
                background: radial-gradient(circle, rgba(16, 185, 129, var(--opacity)) 0%, transparent 70%);
                animation-duration: 7s;
            }
            
            @keyframes floatParticle {
                0% {
                    transform: translate(-50%, 20px) scale(0);
                    opacity: 0;
                }
                10% {
                    opacity: 1;
                    transform: translate(-50%, -10vh) scale(1);
                }
                90% {
                    opacity: 1;
                    transform: translate(calc(-50% + 100px), -90vh) scale(1);
                }
                100% {
                    transform: translate(calc(-50% + 100px), -100vh) scale(0);
                    opacity: 0;
                }
            }
            
            .loadingContent {
                position: relative;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 40px;
            }
            
            .outerGlow {
                position: absolute;
                width: 280px;
                height: 280px;
                border-radius: 50%;
                background: 
                    radial-gradient(circle, transparent 60%, rgba(59, 130, 246, 0.1) 70%, transparent 80%),
                    radial-gradient(circle, transparent 70%, rgba(147, 51, 234, 0.08) 80%, transparent 90%);
                animation: outerGlowPulse 3s ease-in-out infinite;
                pointer-events: none;
            }
            
            @keyframes outerGlowPulse {
                0%, 100% { 
                    transform: scale(1);
                    opacity: 0.6;
                }
                50% { 
                    transform: scale(1.1);
                    opacity: 0.8;
                }
            }
            
            .progressContainer {
                position: relative;
                width: 240px;
                height: 240px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .progressSvg {
                width: 100%;
                height: 100%;
                transform: scale(1);
                filter: drop-shadow(0 0 20px rgba(59, 130, 246, 0.3));
            }
            
            .progressBackground {
                stroke: rgba(255, 255, 255, 0.1);
                stroke-linecap: round;
            }
            
            .progressCircle {
                stroke: url(#progressGradient);
                stroke-linecap: round;
                transition: stroke-dashoffset 0.8s cubic-bezier(0.4, 0, 0.2, 1);
                animation: progressRotate 3s linear infinite;
            }
            
            @keyframes progressRotate {
                0% {
                    filter: hue-rotate(0deg);
                }
                100% {
                    filter: hue-rotate(360deg);
                }
            }
            
            .progressInner {
                position: absolute;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 16px;
            }
            
            .progressDisplay {
                display: flex;
                align-items: baseline;
                gap: 4px;
                font-family: 'SF Mono', 'Monaco', 'Cascadia Code', monospace;
            }
            
            .progressNumber {
                font-size: 48px;
                font-weight: 700;
                color: #ffffff;
                text-shadow: 
                    0 0 20px rgba(59, 130, 246, 0.8),
                    0 0 40px rgba(59, 130, 246, 0.4);
                animation: numberGlow 2s ease-in-out infinite alternate;
            }
            
            .progressPercent {
                font-size: 24px;
                font-weight: 600;
                color: rgba(255, 255, 255, 0.8);
                text-shadow: 0 0 10px rgba(59, 130, 246, 0.6);
            }
            
            @keyframes numberGlow {
                0% { 
                    text-shadow: 
                        0 0 20px rgba(59, 130, 246, 0.8),
                        0 0 40px rgba(59, 130, 246, 0.4);
                }
                100% { 
                    text-shadow: 
                        0 0 30px rgba(59, 130, 246, 1),
                        0 0 60px rgba(59, 130, 246, 0.6),
                        0 0 80px rgba(59, 130, 246, 0.3);
                }
            }
            
            .phaseIndicator {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 8px;
            }
            
            .phaseText {
                font-size: 16px;
                font-weight: 500;
                color: rgba(255, 255, 255, 0.9);
                text-transform: uppercase;
                letter-spacing: 2px;
                text-align: center;
                text-shadow: 0 0 10px rgba(147, 51, 234, 0.6);
            }
            
            .phaseDots {
                display: flex;
                gap: 6px;
            }
            
            .phaseDots span {
                width: 6px;
                height: 6px;
                border-radius: 50%;
                background: rgba(147, 51, 234, 0.6);
                animation: dotPulse 1.5s ease-in-out infinite;
            }
            
            .phaseDots span:nth-child(1) { animation-delay: 0s; }
            .phaseDots span:nth-child(2) { animation-delay: 0.2s; }
            .phaseDots span:nth-child(3) { animation-delay: 0.4s; }
            
            @keyframes dotPulse {
                0%, 60%, 100% {
                    transform: scale(1);
                    opacity: 0.6;
                }
                30% {
                    transform: scale(1.4);
                    opacity: 1;
                    box-shadow: 0 0 12px rgba(147, 51, 234, 0.8);
                }
            }
            
            .loadingBars {
                display: flex;
                gap: 8px;
                align-items: end;
            }
            
            .loadingBar {
                width: 4px;
                height: 20px;
                background: linear-gradient(
                    to top,
                    rgba(16, 185, 129, 0.8) 0%,
                    rgba(59, 130, 246, 0.8) 50%,
                    rgba(147, 51, 234, 0.8) 100%
                );
                border-radius: 2px;
                animation: barPulse 1.2s ease-in-out infinite;
                animation-delay: var(--delay);
                box-shadow: 0 0 8px rgba(59, 130, 246, 0.4);
            }
            
            @keyframes barPulse {
                0%, 100% {
                    transform: scaleY(0.3);
                    opacity: 0.6;
                }
                50% {
                    transform: scaleY(1);
                    opacity: 1;
                }
            }
        `;
        document.head.appendChild(style);
        
        // Initialize
        let currentProgress = 45;
        let currentPhase = 'Loading Stream';
        
        function updateSpinner() {
            document.getElementById('loadingSpinner').innerHTML = createLoadingSpinner(currentProgress, currentPhase);
        }
        
        // Event listeners
        document.getElementById('progressSlider').addEventListener('input', (e) => {
            currentProgress = parseInt(e.target.value);
            document.getElementById('progressValue').textContent = currentProgress + '%';
            updateSpinner();
        });
        
        document.getElementById('phaseSelect').addEventListener('change', (e) => {
            currentPhase = e.target.value;
            updateSpinner();
        });
        
        // Initial render
        updateSpinner();
    </script>
</body>
</html>