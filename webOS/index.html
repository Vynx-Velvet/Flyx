<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flyx TV - Stream Beyond</title>
    
    <!-- WebOS Specific Meta Tags -->
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/tv-optimized.css">
    
    <!-- Preload Critical Assets -->
    <link rel="preload" href="assets/logo.png" as="image">
    <link rel="preload" href="webOSTVjs-1.2.10/webOSTV.js" as="script">
</head>
<body class="webos-app">
    <div id="app-container" class="app-container">
        
        <!-- Splash Screen -->
        <div id="splash-screen" class="splash-screen">
            <div class="splash-content">
                <div class="splash-logo-container">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080" width="400" height="225" class="splash-logo-svg">
                        <defs>
                            <radialGradient id="splashBackgroundGradient" cx="50%" cy="50%" r="60%">
                                <stop offset="0%" style="stop-color:#1a1a2e;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#16213e;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#0f0f23;stop-opacity:1" />
                            </radialGradient>
                            <linearGradient id="splashLogoGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#8b5cf6;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#6366f1;stop-opacity:1" />
                            </linearGradient>
                            <linearGradient id="splashIconGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#6366f1;stop-opacity:1" />
                            </linearGradient>
                            <filter id="splashGlow" x="-50%" y="-50%" width="200%" height="200%">
                                <feGaussianBlur stdDeviation="8" result="coloredBlur"/>
                                <feMerge> 
                                    <feMergeNode in="coloredBlur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                        </defs>
                        
                        <g transform="translate(960, 540)">
                            <!-- Animated background particles -->
                            <g opacity="0.6">
                                <circle cx="-200" cy="-100" r="3" fill="#6366f1">
                                    <animate attributeName="opacity" values="0.6;1;0.6" dur="2s" repeatCount="indefinite"/>
                                    <animateTransform attributeName="transform" type="translate" 
                                                     values="0,0; 15,8; 0,0" dur="3s" repeatCount="indefinite"/>
                                </circle>
                                <circle cx="200" cy="-80" r="2" fill="#8b5cf6">
                                    <animate attributeName="opacity" values="0.4;0.9;0.4" dur="2.5s" repeatCount="indefinite"/>
                                    <animateTransform attributeName="transform" type="translate" 
                                                     values="0,0; -12,10; 0,0" dur="3.5s" repeatCount="indefinite"/>
                                </circle>
                                <circle cx="-250" cy="60" r="4" fill="#6366f1">
                                    <animate attributeName="opacity" values="0.5;1;0.5" dur="1.8s" repeatCount="indefinite"/>
                                    <animateTransform attributeName="transform" type="translate" 
                                                     values="0,0; 20,-5; 0,0" dur="4s" repeatCount="indefinite"/>
                                </circle>
                                <circle cx="250" cy="80" r="2.5" fill="#8b5cf6">
                                    <animate attributeName="opacity" values="0.4;0.8;0.4" dur="2.2s" repeatCount="indefinite"/>
                                    <animateTransform attributeName="transform" type="translate" 
                                                     values="0,0; -15,-8; 0,0" dur="3.8s" repeatCount="indefinite"/>
                                </circle>
                            </g>
                            
                            <!-- Main play icon -->
                            <g transform="translate(-120, -20)">
                                <!-- Main icon circle -->
                                <circle cx="0" cy="15" r="35" fill="url(#splashIconGradient)" filter="url(#splashGlow)"/>
                                <!-- Play triangle -->
                                <polygon points="-12,3 -12,27 18,15" fill="white"/>
                                
                                <!-- Streaming particles -->
                                <g>
                                    <circle cx="45" cy="-5" r="3" fill="url(#splashLogoGradient)" opacity="0.7">
                                        <animate attributeName="opacity" values="0.7;1;0.7" dur="2s" repeatCount="indefinite"/>
                                        <animate attributeName="cx" values="45;65;45" dur="2.5s" repeatCount="indefinite"/>
                                    </circle>
                                    <circle cx="50" cy="15" r="2" fill="url(#splashLogoGradient)" opacity="0.8">
                                        <animate attributeName="opacity" values="0.8;0.4;0.8" dur="2.2s" repeatCount="indefinite"/>
                                        <animate attributeName="cx" values="50;70;50" dur="3s" repeatCount="indefinite"/>
                                    </circle>
                                    <circle cx="45" cy="35" r="3" fill="url(#splashLogoGradient)" opacity="0.6">
                                        <animate attributeName="opacity" values="0.6;1;0.6" dur="1.8s" repeatCount="indefinite"/>
                                        <animate attributeName="cx" values="45;63;45" dur="2.8s" repeatCount="indefinite"/>
                                    </circle>
                                </g>
                            </g>
                            
                            <!-- Main "Flyx" text -->
                            <text x="0" y="30" text-anchor="middle" 
                                  font-family="system-ui, -apple-system, sans-serif" 
                                  font-size="80" font-weight="700" 
                                  fill="url(#splashLogoGradient)" filter="url(#splashGlow)">Flyx</text>
                            
                            <!-- Tagline -->
                            <text x="0" y="60" text-anchor="middle" 
                                  font-family="system-ui, -apple-system, sans-serif" 
                                  font-size="18" font-weight="400" 
                                  fill="#8b5cf6" opacity="0.9">Stream Beyond</text>
                        </g>
                    </svg>
                </div>
                <div class="splash-loader">
                    <div class="loader-spinner"></div>
                    <p class="loading-text">Loading your entertainment experience...</p>
                </div>
            </div>
        </div>

        <!-- Main Application -->
        <div id="main-application" class="main-application" style="display: none;">
            
            <!-- Navigation Header -->
            <header id="app-header" class="app-header">
                <div class="header-container">
                    <div class="header-brand focusable" tabindex="0">
                        <div class="brand-logo-container">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 60" width="120" height="36" class="brand-logo-svg">
                                <defs>
                                    <linearGradient id="headerLogoGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                        <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1" />
                                    </linearGradient>
                                    <linearGradient id="headerIconGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#6366f1;stop-opacity:1" />
                                    </linearGradient>
                                </defs>
                                
                                <!-- Play button icon with streaming lines -->
                                <g transform="translate(10, 15)">
                                    <!-- Streaming lines background -->
                                    <path d="M5 5 Q15 10 5 15 Q15 20 5 25" stroke="url(#headerIconGradient)" stroke-width="2" fill="none" opacity="0.4"/>
                                    
                                    <!-- Main play button -->
                                    <circle cx="20" cy="15" r="12" fill="url(#headerIconGradient)" />
                                    <polygon points="16,9 16,21 26,15" fill="white" />
                                    
                                    <!-- Streaming particles -->
                                    <circle cx="35" cy="8" r="1.5" fill="url(#headerLogoGradient)" opacity="0.8">
                                        <animate attributeName="opacity" values="0.8;1;0.8" dur="2s" repeatCount="indefinite"/>
                                    </circle>
                                    <circle cx="38" cy="15" r="1" fill="url(#headerLogoGradient)" opacity="0.9">
                                        <animate attributeName="opacity" values="0.9;0.5;0.9" dur="2.5s" repeatCount="indefinite"/>
                                    </circle>
                                    <circle cx="35" cy="22" r="1.5" fill="url(#headerLogoGradient)" opacity="0.7">
                                        <animate attributeName="opacity" values="0.7;1;0.7" dur="1.8s" repeatCount="indefinite"/>
                                    </circle>
                                </g>
                                
                                <!-- Flyx text -->
                                <text x="60" y="35" font-family="system-ui, -apple-system, sans-serif" font-size="28" font-weight="700" fill="url(#headerLogoGradient)">Flyx</text>
                                
                                <!-- Subtitle -->
                                <text x="60" y="48" font-family="system-ui, -apple-system, sans-serif" font-size="8" font-weight="400" fill="#8b5cf6" opacity="0.8">Stream Beyond</text>
                            </svg>
                        </div>
                    </div>
                    <nav class="header-navigation">
                        <button class="nav-button focusable active" data-page="home" tabindex="0">
                            <span>Home</span>
                        </button>
                        <button class="nav-button focusable" data-page="search" tabindex="0">
                            <span>Search</span>
                        </button>
                        <button class="nav-button focusable" data-page="about" tabindex="0">
                            <span>About</span>
                        </button>
                    </nav>
                </div>
            </header>

            <!-- Main Content Area -->
            <main id="main-content" class="main-content">
                
                <!-- Home Page -->
                <section id="home-page" class="content-page active">
                    <div class="page-container">
                        
                        <!-- Content Sections -->
                        <div class="content-sections">
                            
                            <!-- Trending Today -->
                            <section class="content-section">
                                <h2 class="section-heading">Trending Today</h2>
                                <div id="trending-today-grid" class="media-grid">
                                    <!-- Dynamic content loaded here -->
                                </div>
                            </section>

                            <!-- Popular Movies USA -->
                            <section class="content-section">
                                <h2 class="section-heading">Popular Movies in USA</h2>
                                <div id="popular-movies-usa-grid" class="media-grid">
                                    <!-- Dynamic content loaded here -->
                                </div>
                            </section>

                            <!-- Popular TV Shows USA -->
                            <section class="content-section">
                                <h2 class="section-heading">Popular TV Shows in USA</h2>
                                <div id="popular-shows-usa-grid" class="media-grid">
                                    <!-- Dynamic content loaded here -->
                                </div>
                            </section>

                            <!-- Trending Anime -->
                            <section class="content-section">
                                <h2 class="section-heading">Trending Anime</h2>
                                <div id="trending-anime-grid" class="media-grid">
                                    <!-- Dynamic content loaded here -->
                                </div>
                            </section>

                        </div>
                    </div>
                </section>

                <!-- Search Page -->
                <section id="search-page" class="content-page">
                    <div class="page-container">
                        <div class="search-section">
                            <h1 class="page-title">Advanced Search</h1>
                            
                            <div class="search-controls">
                                <!-- Main Search Input -->
                                <div class="search-input-group">
                                    <input type="text" id="search-input" class="search-field focusable" 
                                           placeholder="Search movies, TV shows, actors..." tabindex="0" readonly>
                                    <button id="search-button" class="search-btn focusable" tabindex="0">
                                        Search
                                    </button>
                                </div>

                                <!-- Advanced Filters -->
                                <div class="search-filters">
                                    <div class="filter-group">
                                        <label for="media-type-filter" class="filter-label">Type:</label>
                                        <select id="media-type-filter" class="filter-select focusable" tabindex="0">
                                            <option value="all">All</option>
                                            <option value="movie">Movies</option>
                                            <option value="tv">TV Shows</option>
                                        </select>
                                    </div>

                                    <div class="filter-group">
                                        <label for="genre-filter" class="filter-label">Genre:</label>
                                        <select id="genre-filter" class="filter-select focusable" tabindex="0">
                                            <option value="">All Genres</option>
                                            <!-- Genres loaded dynamically -->
                                        </select>
                                    </div>

                                    <div class="filter-group">
                                        <label for="search-type-filter" class="filter-label">Search by:</label>
                                        <select id="search-type-filter" class="filter-select focusable" tabindex="0">
                                            <option value="title">Title</option>
                                            <option value="cast">Actor/Actress</option>
                                            <option value="crew">Director</option>
                                        </select>
                                    </div>

                                    <button id="clear-filters-btn" class="clear-filters-btn focusable" tabindex="0">
                                        Clear Filters
                                    </button>
                                </div>
                            </div>

                            <!-- Search Results -->
                            <div id="search-results" class="search-results">
                                <div class="search-placeholder">
                                    <h3>🔍 Start searching to discover amazing content</h3>
                                    <p>Use the search bar above or select filters to find movies, TV shows, or search by cast and crew.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- About Page -->
                <section id="about-page" class="content-page">
                    <div class="page-container">
                        <div class="about-section">
                            <h1 class="page-title">About Flyx TV</h1>
                            <div class="about-content">
                                <p class="about-text">
                                    Flyx TV brings the ultimate streaming experience to your LG Smart TV. 
                                    Designed specifically for television viewing, our app provides seamless 
                                    navigation and high-quality entertainment discovery.
                                </p>
                                
                                <div class="features-showcase">
                                    <div class="feature-item">
                                        <h3>TV Optimized Interface</h3>
                                        <p>Designed for big screens with remote control navigation</p>
                                    </div>
                                    <div class="feature-item">
                                        <h3>High Quality Streaming</h3>
                                        <p>Optimized for your TV's resolution and capabilities</p>
                                    </div>
                                    <div class="feature-item">
                                        <h3>Simple Navigation</h3>
                                        <p>Easy-to-use interface designed for TV remote controls</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

            </main>

            <!-- Footer -->
            <footer id="app-footer" class="app-footer">
                <div class="footer-container">
                    <p class="footer-text">© 2024 Flyx TV. Stream Beyond.</p>
                </div>
            </footer>

        </div>

        <!-- Media Details Modal -->
        <div id="media-modal" class="modal-overlay" style="display: none;">
            <div class="modal-container">
                <div id="modal-content" class="modal-content">
                    <!-- Modal content loaded dynamically -->
                </div>
            </div>
        </div>

        <!-- Error Messages -->
        <div id="error-toast" class="error-toast" style="display: none;">
            <div class="error-content">
                <span id="error-message"></span>
                <button class="error-close" onclick="FlyxApp.hideError()">×</button>
            </div>
        </div>

    </div>

    <!-- Scripts - Load in correct order -->
    <script src="webOSTVjs-1.2.10/webOSTV.js"></script>
    <!-- HLS.js for M3U8 Stream Support -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.12/dist/hls.min.js"></script>
    <script src="js/webos-platform.js"></script>
    <script src="js/service-client.js"></script>
    <script src="js/simple-navigation.js"></script>
    <script src="js/media-player.js"></script>
    <script src="js/flyx-app.js"></script>
    
    <!-- Initialize App -->
    <script>
        // Initialize app when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            try {
                window.FlyxApp = new FlyxTVApplication();
                console.log('Flyx TV Application initialized successfully');
            } catch (error) {
                console.error('Failed to initialize Flyx TV:', error);
                document.body.innerHTML = '<div style="display:flex;align-items:center;justify-content:center;height:100vh;color:white;text-align:center;background:#000;"><div><h1>Error Loading Flyx TV</h1><p>Please restart the application</p></div></div>';
            }
        });
         </script>
 </body>
 </html> 